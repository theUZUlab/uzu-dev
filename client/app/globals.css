@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable-dynamic-subset.css");
@import "tailwindcss";

/* ===========================================================
  Theme: 디자인 토큰 정의 (기본 = 다크 모드)
=========================================================== */
@theme {
  /* 색상 */
  --color-bg: #111319;
  --color-panel: #1a1c22;
  --color-line: #25272c;
  --color-text: #d4d1d6;
  --color-muted: rgba(37, 39, 44, 0.5);
  --color-brand: #5950a3;

  /* 폰트 / 라운드 / 간격 */
  --font-sans: "Pretendard Variable", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto,
    "Apple SD Gothic Neo", "Malgun Gothic", "Noto Sans", sans-serif;
  --radius-xl: 1rem;
  --radius-lg: 0.75rem;
  --radius-md: 0.5rem;
  --gap: 20px;

  /* 컨테이너 */
  --container-3xl: 80rem;
  --container-2xl: 72rem;
  --container-xl: 64rem;
  --container-lg: 56rem;
  --container-md: 48rem;

  /* 타이포 스케일 */
  --text-xs: 0.875rem;
  --text-sm: 1rem;
  --text-base: 1.125rem;
  --text-lg: 1.25rem;
  --text-xl: 1.5rem;
  --text-2xl: 2rem;
  --text-3xl: 2.25rem;

  /* Aurora 공용 */
  --aurora-radius: 10px; /* 외곽 라운드 */
  --aurora-border: 2px; /* 오로라와 내부 간격 */
  --aurora-surface: var(--color-panel); /* 내부 배경 */
  --aurora-speed: 1s; /* 회전 속도 */
  --aurora-blur: 20px; /* 퍼짐 정도 */
  --aurora-focus: var(--color-brand); /* 포커스 색 */
  --aurora-gradient: conic-gradient(
    from 0deg,
    #433a8e,
    #5950a3,
    #776fba,
    #9891ca,
    #c0bce1,
    #433a8e
  );
}

/* ===========================================================
  Light Mode Override
=========================================================== */
@media (prefers-color-scheme: light) {
  :root {
    --color-bg: #f5f5f5;
    --color-panel: #ffffff;
    --color-line: #dee0da;
    --color-text: #5e503f;
    --color-muted: rgba(94, 80, 63, 0.5);
    --color-brand: #e07a5f;

    --aurora-gradient: conic-gradient(
      from 0deg,
      #d4af37,
      #e6c26b,
      #f9d8c1,
      #e07a5f,
      #c06b53,
      #d4af37
    );
  }
}
/* ===========================================================
  Manual Theme Override (data-theme 우선)
=========================================================== */
:root[data-theme="dark"] {
  --color-bg: #111319;
  --color-panel: #1a1c22;
  --color-line: #25272c;
  --color-text: #d4d1d6;
  --color-muted: rgba(37, 39, 44, 0.5);
  --color-brand: #5950a3;

  --aurora-gradient: conic-gradient(
    from 0deg,
    #433a8e,
    #5950a3,
    #776fba,
    #9891ca,
    #c0bce1,
    #433a8e
  );
}

:root[data-theme="light"] {
  --color-bg: #f5f5f5;
  --color-panel: #ffffff;
  --color-line: #dee0da;
  --color-text: #5e503f;
  --color-muted: rgba(94, 80, 63, 0.5);
  --color-brand: #e07a5f;

  --aurora-gradient: conic-gradient(
    from 0deg,
    #d4af37,
    #e6c26b,
    #f9d8c1,
    #e07a5f,
    #c06b53,
    #d4af37
  );
}

/* data-theme가 설정된 경우: 그 값을 우선 적용 */
:root[data-theme="light"] .theme-dark {
  display: none !important;
}
:root[data-theme="dark"] .theme-light {
  display: none !important;
}

/* data-theme가 없을 때는 시스템 선호도에 따름 */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) .theme-light {
    display: none !important;
  }
}
@media (prefers-color-scheme: light) {
  :root:not([data-theme]) .theme-dark {
    display: none !important;
  }
}

/* ===========================================================
  Base Reset
=========================================================== */
html,
body {
  height: 100%;
}
body {
  @apply bg-[var(--color-bg)] text-[var(--color-text)] font-sans antialiased;
}

/* 가로 스크롤 최적화 (모바일 iOS 포함) */
.x-scroll {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-x: contain;
}

/* 스크롤바 숨김 */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* ===========================================================
  Aurora Frame (버튼/카드 공용)
=========================================================== */
.aurora-frame {
  position: relative;
  border-radius: var(--aurora-radius);
  overflow: hidden;
  isolation: isolate;
}

/* Aurora layer */
.aurora-frame::before {
  content: "";
  position: absolute;
  inset: -1000%;
  background: var(--aurora-gradient);
  filter: blur(var(--aurora-blur)) saturate(120%);
  animation: spin var(--aurora-speed) linear infinite;
  will-change: transform;
  opacity: 0;
  transition: opacity 0.3s ease, background 0.3s ease;
}

.aurora-frame:hover::before {
  opacity: 1;
}

.aurora-frame:focus::before {
  opacity: 1;
  background: var(--aurora-focus);
  filter: none;
  animation: none;
}

.aurora-inner {
  position: relative;
  z-index: 1;
  border-radius: calc(var(--aurora-radius) - var(--aurora-border));
  background: var(--aurora-surface);
}

/* Aurora 회전 애니메이션 */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}
